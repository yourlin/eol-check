# End of Life Checker (ä¾èµ–ç”Ÿå‘½å‘¨æœŸæ£€æŸ¥å·¥å…·)

[English](README.md) | ä¸­æ–‡

ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ä¸Ž [endoflife.date](https://endoflife.date/) æ•°æ®æ¯”å¯¹ï¼Œæ£€æŸ¥é¡¹ç›®ä¸­è½¯ä»¶ä¾èµ–çš„ç”Ÿå‘½å‘¨æœŸï¼ˆEOLï¼‰çŠ¶æ€ã€‚

> **ç‰¹åˆ«è¯´æ˜Ž**ï¼šæœ¬å·¥å…·å®Œå…¨åœ¨ Amazon Q CLI çš„ååŠ©ä¸‹å¼€å‘ï¼Œå±•ç¤ºäº† AI è¾…åŠ©å¼€å‘çš„èƒ½åŠ›ã€‚

## æ¦‚è¿°

End of Life Checker å¸®åŠ©å¼€å‘è€…è¯†åˆ«é¡¹ç›®ä¸­å¯èƒ½å¸¦æ¥å®‰å…¨é£Žé™©æˆ–å…¼å®¹æ€§é—®é¢˜çš„è¿‡æ—¶ä¾èµ–ã€‚è¯¥å·¥å…·æ‰«æé¡¹ç›®æ–‡ä»¶ä»¥æ£€æµ‹ä¾èµ–åŠå…¶ç‰ˆæœ¬ï¼Œç„¶åŽä¸Ž EOL æ•°æ®è¿›è¡Œæ¯”å¯¹ï¼Œæä¾›è­¦æŠ¥å’Œå»ºè®®ã€‚

## ç³»ç»Ÿè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ‰€éœ€åŒ…ï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰ï¼š
  - requests>=2.25.0
  - toml>=0.10.2
  - streamlit>=1.22.0
  - numpy<2.0.0

## åŠŸèƒ½ç‰¹ç‚¹

- æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æž¶ï¼š
  - Java (Maven, Gradle)
    - å®Œæ•´çš„ä¾èµ–æ ‘åˆ†æžï¼ŒåŒ…æ‹¬ä¼ é€’æ€§ä¾èµ–
    - çˆ¶ POM ç»§æ‰¿æ”¯æŒ
    - ä¾èµ–ç®¡ç†è§£æž
  - Node.js (npm, yarn)
  - Python (pip, poetry, pipenv)
- å‘½ä»¤è¡Œç•Œé¢ï¼Œæ˜“äºŽé›†æˆåˆ° CI/CD æµæ°´çº¿
- å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œä¾¿äºŽäº¤äº’ä½¿ç”¨
- è¯¦ç»†çš„æŠ¥å‘Šæ˜¾ç¤ºï¼š
  - æŽ¥è¿‘ EOL çš„ä¾èµ–
  - å·²è¾¾åˆ° EOL çš„ä¾èµ–
  - æŽ¨èçš„å‡çº§è·¯å¾„ï¼Œå¸¦æœ‰ç ´åæ€§å˜æ›´è­¦å‘Š (âš ï¸)
  - ç¾Žè§‚çš„åŸºäºŽè¡¨æƒ…ç¬¦å·çš„çŠ¶æ€æŒ‡ç¤ºå™¨ (ðŸ”´ ðŸŸ  ðŸŸ¢ â“)
  - æ‰§è¡Œæ—¶é—´å’Œè¿›åº¦è·Ÿè¸ª
  - é¡¹ç›®åç§°å’Œå®Œæ•´è·¯å¾„ä¿¡æ¯
- å¯é…ç½®çš„è­¦å‘Šé˜ˆå€¼ï¼ˆä¾‹å¦‚ï¼Œåœ¨ EOL å‰ 90 å¤©å¼€å§‹è­¦å‘Šï¼‰
- æ”¯æŒå¤šç§æ ¼å¼å¯¼å‡ºæŠ¥å‘Šï¼ˆJSON, CSV, HTMLï¼‰
- ç¦»çº¿æ¨¡å¼ï¼Œä½¿ç”¨ç¼“å­˜çš„ EOL æ•°æ®

## å®‰è£…

### ä»Ž PyPI å®‰è£…ï¼ˆæŽ¨èï¼‰

```bash
pip install eol-check
```

### ä»Žæºä»£ç å®‰è£…

å¯¹äºŽæœ€æ–°çš„å¼€å‘ç‰ˆæœ¬æˆ–æƒ³è¦ä¸ºé¡¹ç›®åšè´¡çŒ®ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourlin/eol-check.git
cd eol-check

# ä»¥å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .
```

ä»Žæºä»£ç å®‰è£…å…è®¸ä½ ä¿®æ”¹ä»£ç å¹¶ç«‹å³çœ‹åˆ°æ•ˆæžœï¼Œæ— éœ€é‡æ–°å®‰è£…ã€‚

## ä½¿ç”¨æ–¹æ³•

åŸºæœ¬ç”¨æ³•ï¼š

```bash
eol-check /path/to/project
```

å¸¦é€‰é¡¹çš„ç”¨æ³•ï¼š

```bash
eol-check /path/to/project --format json --output report.json --threshold 180
```

å¯åŠ¨å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼š

```bash
eol-check --ui
```

## é€‰é¡¹

- `--format`ï¼šè¾“å‡ºæ ¼å¼ï¼ˆtext, json, csv, htmlï¼‰ã€‚é»˜è®¤ï¼štext
- `--output`ï¼šå°†æŠ¥å‘Šä¿å­˜åˆ°æ–‡ä»¶è€Œä¸æ˜¯æ ‡å‡†è¾“å‡º
- `--threshold`ï¼šEOL å‰å¤šå°‘å¤©å¼€å§‹è­¦å‘Šã€‚é»˜è®¤ï¼š90
- `--offline`ï¼šä½¿ç”¨ç¼“å­˜çš„ EOL æ•°æ®è€Œä¸æ˜¯ä»Ž endoflife.date èŽ·å–
- `--update`ï¼šå¼ºåˆ¶æ›´æ–°ç¼“å­˜çš„ EOL æ•°æ®
- `--cache-ttl`ï¼šç¼“å­˜ç”Ÿå­˜æ—¶é—´ã€‚é»˜è®¤ï¼š1dã€‚æ ¼å¼ï¼š'1d'ï¼ˆ1å¤©ï¼‰ï¼Œ'12h'ï¼ˆ12å°æ—¶ï¼‰ï¼Œ'30m'ï¼ˆ30åˆ†é’Ÿï¼‰
- `--verbose`ï¼šæ˜¾ç¤ºæœ‰å…³æ£€æŸ¥è¿‡ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ API å¯ç”¨æ€§æ¶ˆæ¯å’Œè°ƒè¯•è¾“å‡º
- `--ignore-file`ï¼šåŒ…å«è¦å¿½ç•¥çš„ä¾èµ–é¡¹çš„æ–‡ä»¶è·¯å¾„ï¼ˆæ¯è¡Œä¸€ä¸ªä¾èµ–é¡¹åç§°ï¼‰
- `--max-workers`ï¼šAPI è¯·æ±‚çš„æœ€å¤§å¹¶è¡Œå·¥ä½œçº¿ç¨‹æ•°ï¼ˆé»˜è®¤ï¼šCPU æ ¸å¿ƒæ•° * 2ï¼‰
- `--ui`ï¼šå¯åŠ¨å›¾å½¢ç”¨æˆ·ç•Œé¢

### å¿½ç•¥æ–‡ä»¶æ ¼å¼

å¿½ç•¥æ–‡ä»¶åº”è¯¥æ¯è¡ŒåŒ…å«ä¸€ä¸ªä¾èµ–é¡¹åç§°ã€‚å¯ä»¥ä½¿ç”¨ `#` å­—ç¬¦æ·»åŠ æ³¨é‡Šã€‚

ç¤ºä¾‹ `ignore.txt`ï¼š
```
# è¿™äº›æ˜¯å†…éƒ¨ä¾èµ–ï¼Œä¸éœ€è¦ EOL æ£€æŸ¥
internal-lib
legacy-component
# è¿™ä¸ªæœ‰è‡ªå®šä¹‰æ”¯æŒåˆåŒ
enterprise-framework
```

## æ”¯æŒçš„é¡¹ç›®ç±»åž‹

- Java: pom.xml, build.gradle
  - éœ€è¦å®‰è£… Maven/Gradle ä»¥è¿›è¡Œå®Œæ•´çš„ä¾èµ–åˆ†æž
  - å¦‚æžœæž„å»ºå·¥å…·ä¸å¯ç”¨ï¼Œåˆ™å›žé€€åˆ°åŸºæœ¬è§£æž
- Node.js: package.json, package-lock.json, yarn.lock
  - éœ€è¦å®‰è£… npm/yarn ä»¥è¿›è¡Œå®Œæ•´çš„ä¾èµ–åˆ†æž
  - å¦‚æžœæž„å»ºå·¥å…·ä¸å¯ç”¨ï¼Œåˆ™å›žé€€åˆ°åŸºæœ¬è§£æž
- Python: requirements.txt, Pipfile, pyproject.toml
  - éœ€è¦å®‰è£… pip/poetry/pipenv ä»¥è¿›è¡Œå®Œæ•´çš„ä¾èµ–åˆ†æž
  - å¦‚æžœæž„å»ºå·¥å…·ä¸å¯ç”¨ï¼Œåˆ™å›žé€€åˆ°åŸºæœ¬è§£æž

## é«˜çº§åŠŸèƒ½

### ç ´åæ€§å˜æ›´æ£€æµ‹

è¯¥å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹æŽ¨èçš„å‡çº§æ˜¯å¦æ¶‰åŠä¸»è¦ç‰ˆæœ¬å˜æ›´ï¼ˆä¾‹å¦‚ï¼Œä»Ž 2.x å‡çº§åˆ° 3.xï¼‰ï¼Œå¹¶ç”¨è­¦å‘Šè¡¨æƒ…ç¬¦å· (âš ï¸) æ ‡è®°è¿™äº›å˜æ›´ï¼Œä»¥æŒ‡ç¤ºæ½œåœ¨çš„ç ´åæ€§å˜æ›´ã€‚

### ä¼ é€’æ€§ä¾èµ–åˆ†æž

å¯¹äºŽ Java é¡¹ç›®ï¼Œè¯¥å·¥å…·åˆ†æžå®Œæ•´çš„ä¾èµ–æ ‘ï¼ŒåŒ…æ‹¬ï¼š
- é¡¹ç›®ä¸­å£°æ˜Žçš„ç›´æŽ¥ä¾èµ–
- ç”±ç›´æŽ¥ä¾èµ–å¼•å…¥çš„ä¼ é€’æ€§ä¾èµ–
- ç”±çˆ¶ POM ç®¡ç†çš„ä¾èµ–
- æ¥è‡ªä¾èµ–ç®¡ç†éƒ¨åˆ†çš„ä¾èµ–

è¿™ç¡®ä¿ä½ èƒ½èŽ·å¾—å…³äºŽåº”ç”¨ç¨‹åºå®žé™…ä½¿ç”¨çš„æ‰€æœ‰åº“çš„ EOL çŠ¶æ€è­¦æŠ¥ï¼Œè€Œä¸ä»…ä»…æ˜¯ä½ ç›´æŽ¥å£°æ˜Žçš„åº“ã€‚

### å›¾å½¢ç”¨æˆ·ç•Œé¢

è¯¥å·¥å…·æä¾›äº†ä¸€ä¸ªç”¨æˆ·å‹å¥½çš„åŸºäºŽ Streamlit çš„ GUIï¼Œå¯ä»¥é€šè¿‡ `--ui` å‚æ•°å¯åŠ¨ï¼š
- é¡¹ç›®é€‰æ‹©å’Œæ‰«æ
- äº¤äº’å¼ä¾èµ–åˆ†æžç»“æžœ
- ç¼“å­˜ç®¡ç†ç•Œé¢
- å…³äºŽé¡¹ç›®çš„ä¿¡æ¯éƒ¨åˆ†

GUI ä½¿éžæŠ€æœ¯ç”¨æˆ·æ›´å®¹æ˜“æ£€æŸ¥å…¶é¡¹ç›®ä¾èµ–ï¼Œæ— éœ€ä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹ã€‚

### CI/CD é›†æˆ

è¯¥å·¥å…·è®¾è®¡ä¸ºæ˜“äºŽé›†æˆåˆ° CI/CD æµæ°´çº¿ä¸­ï¼š
- é€€å‡ºä»£ç  0ï¼šæœªå‘çŽ°é—®é¢˜
- é€€å‡ºä»£ç  1ï¼šè¿è¡Œå·¥å…·æ—¶å‡ºé”™
- é€€å‡ºä»£ç  2ï¼šå‘çŽ°ä¸¥é‡é—®é¢˜ï¼ˆä¾èµ–å·²è¾¾åˆ° EOLï¼‰

è¿™å…è®¸ä½ åœ¨æ£€æµ‹åˆ°å…³é”®ä¾èµ–é¡¹æ—¶ä½¿æž„å»ºå¤±è´¥æˆ–è§¦å‘è­¦æŠ¥ã€‚

GitHub Actions é›†æˆç¤ºä¾‹ï¼š
```yaml
name: æ£€æŸ¥ä¾èµ– EOL

on:
  schedule:
    - cron: '0 8 * * 1'  # æ¯å‘¨ä¸€ä¸Šåˆ 8:00 è¿è¡Œ
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  check-dependencies:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: è®¾ç½® Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
          
      - name: å®‰è£… eol-check
        run: pip install eol-check
        
      - name: æ£€æŸ¥ä¾èµ–
        run: eol-check . --format json --output eol-report.json
        
      - name: ä¸Šä¼ æŠ¥å‘Šä½œä¸ºæž„å»ºäº§ç‰©
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: eol-report
          path: eol-report.json
```

## æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **API é€ŸçŽ‡é™åˆ¶**
   - ç—‡çŠ¶ï¼šæ€§èƒ½ç¼“æ…¢æˆ–å…³äºŽ"è¯·æ±‚è¿‡å¤š"çš„é”™è¯¯
   - è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ `--max-workers` é€‰é¡¹å‡å°‘å¹¶è¡Œè¯·æ±‚æ•°ï¼Œæˆ–ä½¿ç”¨ `--offline` æ¨¡å¼å’Œç¼“å­˜æ•°æ®

2. **ç¼ºå¤±ä¾èµ–**
   - ç—‡çŠ¶ï¼šå·¥å…·æ²¡æœ‰æ£€æµ‹åˆ°ä½ æœŸæœ›çš„æ‰€æœ‰ä¾èµ–
   - è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿ä½ ä½¿ç”¨äº†æ­£ç¡®çš„æž„å»ºå·¥å…·ï¼ˆMavenã€npm ç­‰ï¼‰ï¼Œå¹¶ä¸”å®ƒå·²æ­£ç¡®å®‰è£…ã€‚å¦‚æžœæž„å»ºå·¥å…·ä¸å¯ç”¨ï¼Œå·¥å…·ä¼šå›žé€€åˆ°åŸºæœ¬è§£æžã€‚

3. **æœªçŸ¥ EOL çŠ¶æ€**
   - ç—‡çŠ¶ï¼šè®¸å¤šä¾èµ–æ˜¾ç¤ºä¸º"UNKNOWN"çŠ¶æ€
   - è§£å†³æ–¹æ¡ˆï¼šendoflife.date API å¯èƒ½æ²¡æœ‰è¿™äº›ä¾èµ–çš„æ•°æ®ã€‚è€ƒè™‘ä¸º endoflife.date é¡¹ç›®åšè´¡çŒ®ã€‚

### è¯¦ç»†æ¨¡å¼

ä½¿ç”¨ `--verbose` æ ‡å¿—èŽ·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š
- API è¯·æ±‚è¯¦æƒ…å’Œå“åº”
- ç¼“å­˜ä½¿ç”¨ä¿¡æ¯
- ä¾èµ–è§£æžè¿‡ç¨‹
- è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯å’Œå †æ ˆè·Ÿè¸ª

è¿™åœ¨æŽ’é™¤æ•…éšœæˆ–æƒ³è¦äº†è§£å·¥å…·å¦‚ä½•å¤„ç†é¡¹ç›®æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚

## è®¸å¯è¯

MIT
